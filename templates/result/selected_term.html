{% extends "base.html" %}
{% load mathfilters %}
{% load result_extras %}

{% block title%}View My Grades - Saiki{% endblock %}

{% block content %}
<!-- Header -->
{% include '../includes/header_1.html' with heading=semester_grade.term|addstr:student.department.university.name heading_url_1='my_grades' heading_title_1='View My Grades' %}

<div class="container-fluid mt--6">
    <div class="row">
        <div class="col">
            <div class="card bg-default">
                <div class="card-header bg-transparent border-0">
                    <h3 class="text-white mb-0">
                        Grades - {{semester_grade.term}}
                    </h3>
                </div>
                <div class="table-responsive">
                    <table class="table align-items-center table-dark table-flush">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">Code</th>
                                <th scope="col" class="w-50">Course Description</th>
                                <th scope="col">Unit</th>
                                <th scope="col">Grade</th>
                                <th scope="col">Grade Point</th>
                            </tr>
                        </thead>
                        <tbody class="list">
                            {% for grade in grades %}
                            <tr>
                                <td>{{ grade.course_offering.course.code }}</td>
                                <td>{{ grade.course_offering.course.description }}</td>
                                <td>{{ grade.course_offering.course.units }}</td>
                                {% include './letter_grade.html' %}

                                {% if grade.letter_grade %}
                                <td>{{ grade.letter_grade|mul:grade.course_offering.course.units }}</td>
                                {% else %}
                                <td>-</td>
                                {% endif %}

                            </tr>
                            {% endfor %}
                        </tbody>
                        <tfoot class="thead-light">
                            <tr>
                                {% if semester_grade %}
                                    <th colspan="3"></th>
                                    <th scope="row" colspan="1">SGPA</th>
                                    <th colspan="1">{{ semester_grade.semester_gpa }}</th>
                                {% else %}
                                    <th colspan="3"></th>
                                    <th scope="row" colspan="1">SGPA</th>
                                    <th colspan="1">-</th>
                                {% endif %}
                            </tr>
                            <tr>
                                <th colspan="3"></th>
                                <th scope="row" colspan="1">CGPA</th>
                                <th colspan="1">{{ cgpa }}</th>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}